import type { AssetBinding } from '../loaders/get-module-build-info';
import type { MiddlewareMatcher } from '../../analysis/get-page-static-info';
import { webpack } from 'next/dist/compiled/webpack/webpack';
<<<<<<< HEAD
=======
import type { CustomRoutes } from '../../../lib/load-custom-routes';
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
export interface EdgeFunctionDefinition {
    files: string[];
    name: string;
    page: string;
    matchers: MiddlewareMatcher[];
<<<<<<< HEAD
=======
    env: Record<string, string>;
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
    wasm?: AssetBinding[];
    assets?: AssetBinding[];
    regions?: string[] | string;
}
export interface MiddlewareManifest {
<<<<<<< HEAD
    version: 2;
=======
    version: 3;
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
    sortedMiddleware: string[];
    middleware: {
        [page: string]: EdgeFunctionDefinition;
    };
    functions: {
        [page: string]: EdgeFunctionDefinition;
    };
}
<<<<<<< HEAD
export default class MiddlewarePlugin {
    private readonly dev;
    private readonly sriEnabled;
    constructor({ dev, sriEnabled }: {
        dev: boolean;
        sriEnabled: boolean;
    });
=======
type EdgeRuntimeEnvironments = Record<string, string> & {
    __NEXT_BUILD_ID: string;
    NEXT_SERVER_ACTIONS_ENCRYPTION_KEY: string;
};
interface Options {
    dev: boolean;
    sriEnabled: boolean;
    rewrites: CustomRoutes['rewrites'];
    edgeEnvironments: EdgeRuntimeEnvironments;
}
export default class MiddlewarePlugin {
    private readonly dev;
    private readonly sriEnabled;
    private readonly rewrites;
    private readonly edgeEnvironments;
    constructor({ dev, sriEnabled, rewrites, edgeEnvironments }: Options);
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
    apply(compiler: webpack.Compiler): void;
}
export declare const SUPPORTED_NATIVE_MODULES: readonly ["buffer", "events", "assert", "util", "async_hooks"];
export declare function getEdgePolyfilledModules(): Record<string, string>;
export declare function handleWebpackExternalForEdgeRuntime({ request, context, contextInfo, getResolve, }: {
    request: string;
    context: string;
    contextInfo: any;
    getResolve: () => any;
}): Promise<string | undefined>;
<<<<<<< HEAD
=======
export {};
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
