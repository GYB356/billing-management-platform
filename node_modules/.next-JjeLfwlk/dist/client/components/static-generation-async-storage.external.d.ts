/// <reference types="node" />
import type { AsyncLocalStorage } from 'async_hooks';
import type { IncrementalCache } from '../../server/lib/incremental-cache';
import type { DynamicServerError } from './hooks-server-context';
import type { FetchMetrics } from '../../server/base-http';
import type { Revalidate } from '../../server/lib/revalidate';
<<<<<<< HEAD
=======
import type { PrerenderState } from '../../server/app-render/dynamic-rendering';
import { staticGenerationAsyncStorage } from './static-generation-async-storage-instance';
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
export interface StaticGenerationStore {
    readonly isStaticGeneration: boolean;
    readonly pagePath?: string;
    readonly urlPathname: string;
    readonly incrementalCache?: IncrementalCache;
    readonly isOnDemandRevalidate?: boolean;
    readonly isPrerendering?: boolean;
    readonly isRevalidate?: boolean;
    readonly isUnstableCacheCallback?: boolean;
<<<<<<< HEAD
    /**
     * If defined, this function when called will throw an error postponing
     * rendering during the React render phase. This should not be invoked outside
     * of the React render phase as it'll throw an error.
     */
    readonly postpone: ((reason: string) => never) | undefined;
=======
    prerenderState: null | PrerenderState;
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
    forceDynamic?: boolean;
    fetchCache?: 'only-cache' | 'force-cache' | 'default-cache' | 'force-no-store' | 'default-no-store' | 'only-no-store';
    revalidate?: Revalidate;
    forceStatic?: boolean;
    dynamicShouldError?: boolean;
    pendingRevalidates?: Record<string, Promise<any>>;
<<<<<<< HEAD
    postponeWasTriggered?: boolean;
=======
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
    dynamicUsageDescription?: string;
    dynamicUsageStack?: string;
    dynamicUsageErr?: DynamicServerError;
    nextFetchId?: number;
    pathWasRevalidated?: boolean;
    tags?: string[];
    revalidatedTags?: string[];
    fetchMetrics?: FetchMetrics;
    isDraftMode?: boolean;
    isUnstableNoStore?: boolean;
<<<<<<< HEAD
}
export type StaticGenerationAsyncStorage = AsyncLocalStorage<StaticGenerationStore>;
export declare const staticGenerationAsyncStorage: StaticGenerationAsyncStorage;
=======
    requestEndedState?: {
        ended?: boolean;
    };
}
export type StaticGenerationAsyncStorage = AsyncLocalStorage<StaticGenerationStore>;
export { staticGenerationAsyncStorage };
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
