<<<<<<< HEAD
{"version":3,"sources":["../../../../src/build/webpack/plugins/middleware-plugin.ts"],"names":["MiddlewarePlugin","SUPPORTED_NATIVE_MODULES","getEdgePolyfilledModules","handleWebpackExternalForEdgeRuntime","KNOWN_SAFE_DYNAMIC_PACKAGES","require","NAME","isUsingIndirectEvalAndUsedByExports","args","moduleGraph","runtime","module","usingIndirectEval","wp","exportsInfo","getExportsInfo","exportName","getUsed","UsageState","Unused","getEntryFiles","entryFiles","meta","hasInstrumentationHook","opts","files","edgeSSR","isServerComponent","push","SERVER_REFERENCE_MANIFEST","sriEnabled","SUBRESOURCE_INTEGRITY_MANIFEST","filter","file","startsWith","endsWith","map","replace","CLIENT_REFERENCE_MANIFEST","MIDDLEWARE_BUILD_MANIFEST","MIDDLEWARE_REACT_LOADABLE_MANIFEST","NEXT_FONT_MANIFEST","INSTRUMENTATION_HOOK_FILENAME","process","env","NODE_ENV","PRERENDER_MANIFEST","getCreateAssets","params","compilation","metadataByEntry","assets","middlewareManifest","sortedMiddleware","middleware","functions","version","entrypoints","has","entrypoint","values","metadata","name","get","page","edgeMiddleware","edgeApiFunction","matcherSource","isAppDir","normalizeAppPath","catchAll","namedRegex","getNamedMiddlewareRegex","matchers","regexp","originalSource","edgeFunctionDefinition","getFiles","wasm","Array","from","wasmBindings","filePath","assetBindings","regions","getSortedRoutes","Object","keys","MIDDLEWARE_MANIFEST","sources","RawSource","JSON","stringify","buildWebpackError","message","loc","entryModule","parser","error","compiler","webpack","WebpackError","state","current","isInMiddlewareLayer","layer","isNodeJsModule","moduleName","builtinModules","includes","isDynamicCodeEvaluationAllowed","fileName","middlewareConfig","rootDir","some","pkg","path","sep","isMatch","unstable_allowDynamicGlobs","buildUnsupportedApiError","apiName","rest","start","line","registerUnsupportedApiHooks","expression","EDGE_UNSUPPORTED_NODE_APIS","warnForUnsupportedApi","node","warnings","hooks","call","for","tap","callMemberChain","expressionMemberChain","warnForUnsupportedProcessApi","callee","getCodeAnalyzer","dev","handleExpression","optimize","InnerGraph","onUsage","used","buildInfo","getModuleBuildInfo","Set","handleWrapExpression","expr","ConstDependency","dependencies","dep1","range","addPresentationalDependency","dep2","handleWrapWasmCompileExpression","handleWrapWasmInstantiateExpression","handleImport","source","value","importLocByPath","Map","importedModule","toString","set","sourcePosition","identifier","sourceContent","skip","undefined","prefix","new","importCall","import","getExtractMetadata","clear","telemetry","traceGlobals","entryName","entry","entries","route","options","EDGE_RUNTIME_WEBPACK","entryDependency","getResolvedModule","modules","addEntriesFromDependency","dependency","getModule","add","forEach","includeDependencies","entryMetadata","preferredRegion","ogImageGenerationCount","resource","hasOGImageGeneration","test","util","getEntryRuntime","id","record","eventName","payload","absolutePagePath","config","fileWithDynamicCode","userRequest","errors","join","nextEdgeSSR","nextEdgeMiddleware","nextEdgeApiFunction","nextWasmMiddlewareBinding","nextAssetMiddlewareBinding","conn","getOutgoingConnections","EVENT_BUILD_FEATURE_USAGE","featureName","invocationCount","constructor","apply","normalModuleFactory","codeAnalyzer","finishModules","tapPromise","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","supportedEdgePolyfills","records","mod","request","context","contextInfo","getResolve","issuerLayer"],"mappings":"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"}
=======
{"version":3,"sources":["../../../../src/build/webpack/plugins/middleware-plugin.ts"],"names":["SUPPORTED_NATIVE_MODULES","MiddlewarePlugin","getEdgePolyfilledModules","handleWebpackExternalForEdgeRuntime","KNOWN_SAFE_DYNAMIC_PACKAGES","require","NAME","MANIFEST_VERSION","isUsingIndirectEvalAndUsedByExports","args","moduleGraph","runtime","module","usingIndirectEval","wp","exportsInfo","getExportsInfo","exportName","getUsed","UsageState","Unused","getEntryFiles","entryFiles","meta","hasInstrumentationHook","opts","files","edgeSSR","isServerComponent","push","SERVER_REFERENCE_MANIFEST","sriEnabled","SUBRESOURCE_INTEGRITY_MANIFEST","filter","file","startsWith","endsWith","map","replace","CLIENT_REFERENCE_MANIFEST","MIDDLEWARE_BUILD_MANIFEST","MIDDLEWARE_REACT_LOADABLE_MANIFEST","NEXT_FONT_MANIFEST","INTERCEPTION_ROUTE_REWRITE_MANIFEST","INSTRUMENTATION_HOOK_FILENAME","getCreateAssets","params","compilation","metadataByEntry","assets","middlewareManifest","version","middleware","functions","sortedMiddleware","entrypoints","has","interceptionRewrites","JSON","stringify","rewrites","beforeFiles","isInterceptionRouteRewrite","sources","RawSource","entrypoint","values","metadata","name","get","page","edgeMiddleware","edgeApiFunction","matcherSource","isAppDir","normalizeAppPath","catchAll","namedRegex","getNamedMiddlewareRegex","matchers","regexp","originalSource","isEdgeFunction","edgeFunctionDefinition","getFiles","wasm","Array","from","wasmBindings","filePath","assetBindings","env","edgeEnvironments","regions","getSortedRoutes","Object","keys","MIDDLEWARE_MANIFEST","buildWebpackError","message","loc","entryModule","parser","error","compiler","webpack","WebpackError","state","current","isInMiddlewareLayer","layer","isNodeJsModule","moduleName","builtinModules","includes","isDynamicCodeEvaluationAllowed","fileName","middlewareConfig","rootDir","some","pkg","path","sep","picomatch","unstable_allowDynamicGlobs","dot","buildUnsupportedApiError","apiName","rest","start","line","registerUnsupportedApiHooks","expression","EDGE_UNSUPPORTED_NODE_APIS","warnForUnsupportedApi","node","warnings","hooks","call","for","tap","callMemberChain","expressionMemberChain","warnForUnsupportedProcessApi","callee","getCodeAnalyzer","dev","handleExpression","optimize","InnerGraph","onUsage","used","buildInfo","getModuleBuildInfo","Set","handleWrapExpression","expr","ConstDependency","dependencies","dep1","range","addPresentationalDependency","dep2","handleWrapWasmCompileExpression","handleWrapWasmInstantiateExpression","handleImport","source","value","importLocByPath","Map","importedModule","toString","set","sourcePosition","identifier","sourceContent","skip","undefined","prefix","new","importCall","import","getExtractMetadata","clear","telemetry","traceGlobals","entryName","entry","entries","route","options","EDGE_RUNTIME_WEBPACK","entryDependency","resolvedModule","getResolvedModule","modules","addEntriesFromDependency","dependency","getModule","add","forEach","includeDependencies","entryMetadata","preferredRegion","ogImageGenerationCount","resource","hasOGImageGeneration","test","util","getEntryRuntime","id","record","eventName","payload","absolutePagePath","config","fileWithDynamicCode","userRequest","join","errors","getDynamicCodeEvaluationError","nextEdgeSSR","nextEdgeMiddleware","nextEdgeApiFunction","nextWasmMiddlewareBinding","nextAssetMiddlewareBinding","conn","getModuleReferencesInOrder","EVENT_BUILD_FEATURE_USAGE","featureName","invocationCount","constructor","apply","normalModuleFactory","codeAnalyzer","finishModules","tapPromise","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","supportedEdgePolyfills","records","mod","request","context","contextInfo","getResolve","issuerLayer"],"mappings":"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"}
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
