<<<<<<< HEAD
import { staticGenerationBailout } from "./static-generation-bailout";
=======
import { staticGenerationAsyncStorage } from "./static-generation-async-storage.external";
import { trackDynamicDataAccessed } from "../../server/app-render/dynamic-rendering";
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
export class DraftMode {
    get isEnabled() {
        return this._provider.isEnabled;
    }
    enable() {
<<<<<<< HEAD
        if (staticGenerationBailout("draftMode().enable()")) {
            return;
=======
        const store = staticGenerationAsyncStorage.getStore();
        if (store) {
            // We we have a store we want to track dynamic data access to ensure we
            // don't statically generate routes that manipulate draft mode.
            trackDynamicDataAccessed(store, "draftMode().enable()");
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
        }
        return this._provider.enable();
    }
    disable() {
<<<<<<< HEAD
        if (staticGenerationBailout("draftMode().disable()")) {
            return;
=======
        const store = staticGenerationAsyncStorage.getStore();
        if (store) {
            // We we have a store we want to track dynamic data access to ensure we
            // don't statically generate routes that manipulate draft mode.
            trackDynamicDataAccessed(store, "draftMode().disable()");
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
        }
        return this._provider.disable();
    }
    constructor(provider){
        this._provider = provider;
    }
}

//# sourceMappingURL=draft-mode.js.map