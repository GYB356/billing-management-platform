<<<<<<< HEAD
import { ACTION_UNHANDLED_ERROR, ACTION_UNHANDLED_REJECTION } from "../error-overlay-reducer";
import { getErrorSource } from "./nodeStackFrames";
import { getOriginalStackFrames } from "./stack-frame";
export async function getErrorByType(ev) {
=======
import { ACTION_UNHANDLED_ERROR, ACTION_UNHANDLED_REJECTION } from "../../shared";
import { getOriginalStackFrames } from "./stack-frame";
import { getErrorSource } from "../../../../../shared/lib/error-source";
export async function getErrorByType(ev, isAppDir) {
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
    const { id, event } = ev;
    switch(event.type){
        case ACTION_UNHANDLED_ERROR:
        case ACTION_UNHANDLED_REJECTION:
            {
                const readyRuntimeError = {
                    id,
                    runtime: true,
                    error: event.reason,
<<<<<<< HEAD
                    frames: await getOriginalStackFrames(event.frames, getErrorSource(event.reason), event.reason.toString())
=======
                    frames: await getOriginalStackFrames(event.frames, getErrorSource(event.reason), isAppDir, event.reason.toString())
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
                };
                if (event.type === ACTION_UNHANDLED_ERROR) {
                    readyRuntimeError.componentStackFrames = event.componentStackFrames;
                }
                return readyRuntimeError;
            }
        default:
            {
                break;
            }
    }
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    const _ = event;
    throw new Error("type system invariant violation");
}

//# sourceMappingURL=getErrorByType.js.map