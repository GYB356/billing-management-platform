"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
0 && (module.exports = {
<<<<<<< HEAD
    matchRemotePattern: null,
    hasMatch: null
=======
    hasRemoteMatch: null,
    matchRemotePattern: null
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
<<<<<<< HEAD
    matchRemotePattern: function() {
        return matchRemotePattern;
    },
    hasMatch: function() {
        return hasMatch;
    }
});
const _micromatch = require("next/dist/compiled/micromatch");
=======
    hasRemoteMatch: function() {
        return hasRemoteMatch;
    },
    matchRemotePattern: function() {
        return matchRemotePattern;
    }
});
const _picomatch = require("next/dist/compiled/picomatch");
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
function matchRemotePattern(pattern, url) {
    if (pattern.protocol !== undefined) {
        const actualProto = url.protocol.slice(0, -1);
        if (pattern.protocol !== actualProto) {
            return false;
        }
    }
    if (pattern.port !== undefined) {
        if (pattern.port !== url.port) {
            return false;
        }
    }
    if (pattern.hostname === undefined) {
        throw new Error("Pattern should define hostname but found\n" + JSON.stringify(pattern));
    } else {
<<<<<<< HEAD
        if (!(0, _micromatch.makeRe)(pattern.hostname).test(url.hostname)) {
=======
        if (!(0, _picomatch.makeRe)(pattern.hostname).test(url.hostname)) {
            return false;
        }
    }
    if (pattern.search !== undefined) {
        if (pattern.search !== url.search) {
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
            return false;
        }
    }
    var _pattern_pathname;
<<<<<<< HEAD
    if (!(0, _micromatch.makeRe)((_pattern_pathname = pattern.pathname) != null ? _pattern_pathname : "**").test(url.pathname)) {
=======
    // Should be the same as writeImagesManifest()
    if (!(0, _picomatch.makeRe)((_pattern_pathname = pattern.pathname) != null ? _pattern_pathname : "**", {
        dot: true
    }).test(url.pathname)) {
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
        return false;
    }
    return true;
}
<<<<<<< HEAD
function hasMatch(domains, remotePatterns, url) {
=======
function hasRemoteMatch(domains, remotePatterns, url) {
>>>>>>> 4f9d35bd5c5bf095848f6fc99f7e7bfe5212365f
    return domains.some((domain)=>url.hostname === domain) || remotePatterns.some((p)=>matchRemotePattern(p, url));
}

//# sourceMappingURL=match-remote-pattern.js.map